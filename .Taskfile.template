---
# File generated by DataRobot CLI, regenerate using `dr task compose`
version: '3'
env:
  ENV: testing
dotenv: ['.env', '.env.{{`{{.ENV}}`}}']

includes:
  {{- range .Includes }}
  {{- if ne .Name "tests" }}
  {{ .Name }}:
    taskfile: {{ .Taskfile }}
    dir: {{ .Dir }}
  {{- end }}
  {{- end }}

tasks:
  default:
    desc: "â„¹ï¸ Show all available tasks (run `task --list-all` to see hidden tasks)"
    silent: true
    cmds:
      - task --list --sort none

  {{- if .HasInstall }}
  install:
    desc: "ğŸ› ï¸ Install all dependencies"
    cmds:
      - dr task run install
  {{- end }}

  deploy:
    desc: "ğŸš€ Deploy all services"
    aliases:
      - build  # Partial agent deployment is deprecated for now. Build alias will just deploy agentic resources.
    cmds:
      - task: infra:deploy

  destroy:
    cmds:
      - task: infra:destroy
